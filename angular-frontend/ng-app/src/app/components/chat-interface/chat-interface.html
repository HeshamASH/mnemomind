<div class="flex flex-col h-full">
  <div *ngIf="(activeDataSource$ | async) === null && (messages$ | async)?.length === 0; else chatContent" class="flex flex-col items-center justify-center h-full p-8 text-center">
    <div class="max-w-xl">
      <div class="mx-auto bg-gradient-to-r from-cyan-500 to-blue-500 p-3 rounded-xl inline-block mb-6 shadow-md">
        <mat-icon class="text-white">dataset</mat-icon>
      </div>
      <h2 class="text-3xl sm:text-4xl font-bold mb-3">Welcome to MnemoMind</h2>
      <p class="text-base sm:text-lg text-gray-500 mb-8">
        Connect a data source (like code folders, documents, or Google Drive) to begin asking questions and getting AI-powered insights.
      </p>
      <button mat-flat-button color="primary">Connect Data Source</button>
    </div>
  </div>
  <ng-template #chatContent>
    <div class="flex-1 overflow-y-auto p-4">
      <mat-list>
        <mat-list-item *ngFor="let message of messages$ | async">
          <div [ngClass]="{'font-bold': message.role === 'user'}">{{ message.content }}</div>
        </mat-list-item>
      </mat-list>
    </div>
    <div class="p-4 border-t">
      <mat-form-field class="w-full">
        <input matInput [(ngModel)]="input" (keyup.enter)="onSendMessage()" placeholder="Ask a question...">
        <button mat-icon-button matSuffix (click)="onSendMessage()" [disabled]="isLoading">
          <mat-icon>send</mat-icon>
        </button>
      </mat-form-field>
    </div>
  </ng-template>
</div>
